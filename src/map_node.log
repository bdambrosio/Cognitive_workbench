2025-07-30 10:21:46,608 - __main__ - INFO - Loading map module from: maps/forest.py
2025-07-30 10:21:46,609 - __main__ - INFO - Creating WorldMap instance...
2025-07-30 10:21:47,075 - __main__ - INFO - WorldMap created successfully: 50x50
2025-07-30 10:21:47,076 - __main__ - INFO - 📂 No existing world data for 'forest', starting fresh
2025-07-30 10:21:47,076 - __main__ - INFO - Creating Zenoh session...
2025-07-30 10:21:47,083 - __main__ - INFO - Map queryables and subscribers set up successfully
2025-07-30 10:21:47,084 - __main__ - INFO - Turn management system set up successfully
2025-07-30 10:21:47,084 - __main__ - INFO - Manual turn control enabled - starting in STEP mode
2025-07-30 10:21:47,084 - __main__ - INFO - Zenoh session initialized successfully
2025-07-30 10:21:47,084 - __main__ - INFO - 🔄 Started persistence thread for 'forest'
2025-07-30 10:21:47,084 - __main__ - INFO - Map node started with map file: forest.py
2025-07-30 10:21:56,981 - __main__ - INFO - Agent created for character 'Samantha' at (20,20)
2025-07-30 10:21:56,981 - __main__ - INFO - First character added - turn management ready
2025-07-30 10:21:56,981 - __main__ - INFO - Manual control mode - waiting for step command
2025-07-30 10:22:02,031 - __main__ - INFO - Agent created for character 'Joe' at (20,20)
2025-07-30 10:22:30,721 - __main__ - INFO - 🎯 Manual Step Turn command received
2025-07-30 10:22:30,721 - __main__ - INFO - Starting new turn for step command
2025-07-30 10:22:30,722 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:22:30,722 - __main__ - INFO - 🚦 Turn 1 started for: Samantha, Joe
2025-07-30 10:22:39,712 - __main__ - INFO - ✅ Joe completed turn 1
2025-07-30 10:22:39,713 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:22:45,771 - __main__ - INFO - ✅ Samantha completed turn 1
2025-07-30 10:22:45,772 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:22:45,772 - __main__ - INFO - 🎯 All characters completed turn 1
2025-07-30 10:22:45,772 - __main__ - INFO - Step mode - waiting for manual step command
2025-07-30 10:22:45,772 - __main__ - INFO - 📢 Published step_complete message for FastAPI UI
2025-07-30 10:22:47,907 - __main__ - INFO - 🎯 Manual Step Turn command received
2025-07-30 10:22:47,907 - __main__ - INFO - Starting new turn for step command
2025-07-30 10:22:47,907 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:22:47,907 - __main__ - INFO - 🚦 Turn 2 started for: Samantha, Joe
2025-07-30 10:22:49,142 - __main__ - INFO - ✅ Joe completed turn 2
2025-07-30 10:22:49,142 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:22:52,534 - __main__ - INFO - ✅ Samantha completed turn 2
2025-07-30 10:22:52,534 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:22:52,534 - __main__ - INFO - 🎯 All characters completed turn 2
2025-07-30 10:22:52,534 - __main__ - INFO - Step mode - waiting for manual step command
2025-07-30 10:22:52,534 - __main__ - INFO - 📢 Published step_complete message for FastAPI UI
2025-07-30 10:22:55,624 - __main__ - INFO - 🎯 Manual Step Turn command received
2025-07-30 10:22:55,624 - __main__ - INFO - Starting new turn for step command
2025-07-30 10:22:55,624 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:22:55,625 - __main__ - INFO - 🚦 Turn 3 started for: Samantha, Joe
2025-07-30 10:22:55,739 - __main__ - INFO - Published visual event: Joe detected Samantha at distance 2
2025-07-30 10:22:55,740 - __main__ - INFO - Agent 'Samantha' is now visible to: {'Joe'}
2025-07-30 10:22:55,741 - __main__ - INFO - ✅ Samantha completed turn 3
2025-07-30 10:22:55,746 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:23:01,866 - __main__ - INFO - ✅ Joe completed turn 3
2025-07-30 10:23:01,866 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:23:01,866 - __main__ - INFO - 🎯 All characters completed turn 3
2025-07-30 10:23:01,866 - __main__ - INFO - Step mode - waiting for manual step command
2025-07-30 10:23:01,866 - __main__ - INFO - 📢 Published step_complete message for FastAPI UI
2025-07-30 10:23:17,264 - __main__ - INFO - 🎯 Manual Step Turn command received
2025-07-30 10:23:17,264 - __main__ - INFO - Starting new turn for step command
2025-07-30 10:23:17,264 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:23:17,265 - __main__ - INFO - 🚦 Turn 4 started for: Samantha, Joe
2025-07-30 10:23:18,273 - __main__ - INFO - Published visual event: Samantha detected Joe at distance 1
2025-07-30 10:23:18,274 - __main__ - INFO - Agent 'Joe' is now visible to: {'Samantha'}
2025-07-30 10:23:18,275 - __main__ - INFO - ✅ Joe completed turn 4
2025-07-30 10:23:18,275 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:23:23,064 - __main__ - INFO - ✅ Samantha completed turn 4
2025-07-30 10:23:23,064 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:23:23,064 - __main__ - INFO - 🎯 All characters completed turn 4
2025-07-30 10:23:23,064 - __main__ - INFO - Step mode - waiting for manual step command
2025-07-30 10:23:23,065 - __main__ - INFO - 📢 Published step_complete message for FastAPI UI
2025-07-30 10:23:33,457 - __main__ - INFO - 🎯 Manual Step Turn command received
2025-07-30 10:23:33,457 - __main__ - INFO - Starting new turn for step command
2025-07-30 10:23:33,458 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:23:33,458 - __main__ - INFO - 🚦 Turn 5 started for: Samantha, Joe
2025-07-30 10:23:33,968 - __main__ - INFO - ✅ Samantha completed turn 5
2025-07-30 10:23:33,968 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:23:40,715 - __main__ - INFO - ✅ Joe completed turn 5
2025-07-30 10:23:40,715 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:23:40,716 - __main__ - INFO - 🎯 All characters completed turn 5
2025-07-30 10:23:40,716 - __main__ - INFO - Step mode - waiting for manual step command
2025-07-30 10:23:40,716 - __main__ - INFO - 📢 Published step_complete message for FastAPI UI
2025-07-30 10:23:52,065 - __main__ - INFO - 🎯 Manual Step Turn command received
2025-07-30 10:23:52,066 - __main__ - INFO - Starting new turn for step command
2025-07-30 10:23:52,066 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:23:52,066 - __main__ - INFO - 🚦 Turn 6 started for: Joe, Samantha
2025-07-30 10:23:52,720 - __main__ - INFO - ✅ Joe completed turn 6
2025-07-30 10:23:52,720 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:23:59,935 - __main__ - INFO - ✅ Samantha completed turn 6
2025-07-30 10:23:59,935 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:23:59,936 - __main__ - INFO - 🎯 All characters completed turn 6
2025-07-30 10:23:59,936 - __main__ - INFO - Step mode - waiting for manual step command
2025-07-30 10:23:59,936 - __main__ - INFO - 📢 Published step_complete message for FastAPI UI
2025-07-30 10:26:16,657 - __main__ - INFO - 🏃 Manual Run Turns command received
2025-07-30 10:26:16,657 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:16,657 - __main__ - INFO - 🚦 Turn 7 started for: Samantha, Joe
2025-07-30 10:26:17,358 - __main__ - INFO - ✅ Samantha completed turn 7
2025-07-30 10:26:17,358 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:26:22,309 - __main__ - INFO - ✅ Joe completed turn 7
2025-07-30 10:26:22,309 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:26:22,309 - __main__ - INFO - 🎯 All characters completed turn 7
2025-07-30 10:26:22,309 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:26:23,310 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:23,310 - __main__ - INFO - 🚦 Turn 8 started for: Samantha, Joe
2025-07-30 10:26:25,049 - __main__ - INFO - ✅ Joe completed turn 8
2025-07-30 10:26:25,049 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:26:28,989 - __main__ - INFO - ✅ Samantha completed turn 8
2025-07-30 10:26:28,990 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:26:28,990 - __main__ - INFO - 🎯 All characters completed turn 8
2025-07-30 10:26:28,990 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:26:29,991 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:29,991 - __main__ - INFO - 🚦 Turn 9 started for: Samantha, Joe
2025-07-30 10:26:30,560 - __main__ - INFO - ✅ Joe completed turn 9
2025-07-30 10:26:30,560 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:26:31,793 - __main__ - INFO - ✅ Samantha completed turn 9
2025-07-30 10:26:31,793 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:26:31,793 - __main__ - INFO - 🎯 All characters completed turn 9
2025-07-30 10:26:31,794 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:26:32,795 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:32,795 - __main__ - INFO - 🚦 Turn 10 started for: Samantha, Joe
2025-07-30 10:26:33,762 - __main__ - INFO - ✅ Joe completed turn 10
2025-07-30 10:26:33,762 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:26:33,895 - __main__ - INFO - ✅ Samantha completed turn 10
2025-07-30 10:26:33,895 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:26:33,895 - __main__ - INFO - 🎯 All characters completed turn 10
2025-07-30 10:26:33,895 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:26:34,901 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:34,901 - __main__ - INFO - 🚦 Turn 11 started for: Samantha, Joe
2025-07-30 10:26:37,448 - __main__ - INFO - ✅ Samantha completed turn 11
2025-07-30 10:26:37,448 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:26:41,324 - __main__ - INFO - ✅ Joe completed turn 11
2025-07-30 10:26:41,324 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:26:41,325 - __main__ - INFO - 🎯 All characters completed turn 11
2025-07-30 10:26:41,325 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:26:42,326 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:42,326 - __main__ - INFO - 🚦 Turn 12 started for: Joe, Samantha
2025-07-30 10:26:43,174 - __main__ - INFO - ✅ Samantha completed turn 12
2025-07-30 10:26:43,174 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:26:44,157 - __main__ - INFO - ✅ Joe completed turn 12
2025-07-30 10:26:44,157 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:26:44,157 - __main__ - INFO - 🎯 All characters completed turn 12
2025-07-30 10:26:44,157 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:26:45,158 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:45,158 - __main__ - INFO - 🚦 Turn 13 started for: Samantha, Joe
2025-07-30 10:26:46,260 - __main__ - INFO - ✅ Joe completed turn 13
2025-07-30 10:26:46,260 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:26:47,756 - __main__ - INFO - ✅ Samantha completed turn 13
2025-07-30 10:26:47,756 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:26:47,756 - __main__ - INFO - 🎯 All characters completed turn 13
2025-07-30 10:26:47,756 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:26:48,756 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:48,757 - __main__ - INFO - 🚦 Turn 14 started for: Samantha, Joe
2025-07-30 10:26:49,463 - __main__ - INFO - ✅ Joe completed turn 14
2025-07-30 10:26:49,463 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:26:49,858 - __main__ - INFO - ✅ Samantha completed turn 14
2025-07-30 10:26:49,858 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:26:49,859 - __main__ - INFO - 🎯 All characters completed turn 14
2025-07-30 10:26:49,859 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:26:50,859 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:50,860 - __main__ - INFO - 🚦 Turn 15 started for: Joe, Samantha
2025-07-30 10:26:54,118 - __main__ - INFO - ✅ Samantha completed turn 15
2025-07-30 10:26:54,119 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:26:56,994 - __main__ - INFO - ✅ Joe completed turn 15
2025-07-30 10:26:56,995 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:26:56,995 - __main__ - INFO - 🎯 All characters completed turn 15
2025-07-30 10:26:56,995 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:26:57,996 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:26:57,996 - __main__ - INFO - 🚦 Turn 16 started for: Samantha, Joe
2025-07-30 10:26:59,886 - __main__ - INFO - ✅ Joe completed turn 16
2025-07-30 10:26:59,886 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:27:01,840 - __main__ - INFO - ✅ Samantha completed turn 16
2025-07-30 10:27:01,840 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:27:01,841 - __main__ - INFO - 🎯 All characters completed turn 16
2025-07-30 10:27:01,841 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:27:02,842 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:27:02,842 - __main__ - INFO - 🚦 Turn 17 started for: Joe, Samantha
2025-07-30 10:27:03,942 - __main__ - INFO - ✅ Samantha completed turn 17
2025-07-30 10:27:03,942 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:27:07,842 - __main__ - INFO - ✅ Joe completed turn 17
2025-07-30 10:27:07,842 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:27:07,842 - __main__ - INFO - 🎯 All characters completed turn 17
2025-07-30 10:27:07,842 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:27:08,843 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:27:08,843 - __main__ - INFO - 🚦 Turn 18 started for: Samantha, Joe
2025-07-30 10:27:09,954 - __main__ - INFO - ✅ Joe completed turn 18
2025-07-30 10:27:09,959 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:27:11,822 - __main__ - INFO - ✅ Samantha completed turn 18
2025-07-30 10:27:11,822 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:27:11,822 - __main__ - INFO - 🎯 All characters completed turn 18
2025-07-30 10:27:11,822 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:27:12,828 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:27:12,828 - __main__ - INFO - 🚦 Turn 19 started for: Joe, Samantha
2025-07-30 10:27:13,152 - __main__ - INFO - ✅ Joe completed turn 19
2025-07-30 10:27:13,152 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:27:20,265 - __main__ - INFO - ✅ Samantha completed turn 19
2025-07-30 10:27:20,265 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:27:20,265 - __main__ - INFO - 🎯 All characters completed turn 19
2025-07-30 10:27:20,265 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:27:21,266 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:27:21,266 - __main__ - INFO - 🚦 Turn 20 started for: Samantha, Joe
2025-07-30 10:27:22,368 - __main__ - INFO - ✅ Samantha completed turn 20
2025-07-30 10:27:22,368 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:27:29,035 - __main__ - INFO - ✅ Joe completed turn 20
2025-07-30 10:27:29,035 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:27:29,035 - __main__ - INFO - 🎯 All characters completed turn 20
2025-07-30 10:27:29,035 - __main__ - INFO - Run mode - auto-progressing to next turn
2025-07-30 10:27:30,036 - __main__ - INFO - Starting new turn with active characters: ['Samantha', 'Joe']
2025-07-30 10:27:30,036 - __main__ - INFO - 🚦 Turn 21 started for: Joe, Samantha
2025-07-30 10:27:35,015 - __main__ - INFO - ✅ Samantha completed turn 21
2025-07-30 10:27:35,020 - __main__ - INFO - Turn progress: 1/2 characters completed
2025-07-30 10:27:35,804 - __main__ - INFO - ⏹️ Manual Stop Turns command received
2025-07-30 10:27:35,804 - __main__ - INFO - Auto-progression disabled - waiting for manual step
2025-07-30 10:27:37,460 - __main__ - INFO - ✅ Joe completed turn 21
2025-07-30 10:27:37,460 - __main__ - INFO - Turn progress: 2/2 characters completed
2025-07-30 10:27:37,460 - __main__ - INFO - 🎯 All characters completed turn 21
2025-07-30 10:27:37,460 - __main__ - INFO - Step mode - waiting for manual step command
2025-07-30 10:27:37,460 - __main__ - INFO - 📢 Published step_complete message for FastAPI UI
